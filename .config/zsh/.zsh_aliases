# Better listing
alias ls='ls --color=auto'
alias l='ls --color=auto -lAh'

# Grep colors
alias grep='grep --color=auto'

# List only mounted drives
alias mnt="mount | awk -F' ' '{ printf \"%s\t%s\n\",\$1,\$3; }' | column -t | grep -E ^/dev/ | sort"

# Find a command in history
alias gh="history | grep"

# nvim shorthand
alias v='neovide --fork'
alias vim='neovide --fork'

# Enable sudo aliases
alias sudo='sudo '

# Edit zsh config
alias zshconfig='v ~/.config/zsh/.zshrc'

# Edit zsh aliases
alias zshalias='v ~/.config/zsh/.zsh_aliases'

# Edit zsh exports
alias zshexport='v ~/.config/zsh/.zsh_exports'

# Source configs
alias zshso='source ~/.config/zsh/.zshrc'

# Set nvidia alias until they comply with XDG
alias nvidia-settings='nvidia-settings --config=~/.config/nvidia/settings'

# Safe rm command
alias 'rm'='rmtrash'
alias 'rm -rf'='rmtrash'
alias 'rm -dr'='rmdirtrash'
alias 'rm dir'='rmdirtrash'

# lazygit shortcut
alias lg='lazygit'

# Listing with correct sizes
alias 'll'='join -1 2 -2 9  <((du -sh * ; (du -sh .*) 2>/dev/null) | sort -k2) <(l | sort -k9) | awk  '"'"'
BEGIN {
    # Define colors
    COLOR_SIZE="\033[2;33m"
    COLOR_FILENAME="\033[1;34m"
    COLOR_FILENAME_EXEC="\033[1;32m"
    COLOR_FILENAME_ALL_PERM="\033[1;31m"
    COLOR_PERMS="\033[34m"
    COLOR_RESET="\033[0m"
    COLOR_DIR="\033[1;34m"
    COLOR_DIR_ALL_PERM="\033[1;30;41m"
}
{
    # Print permissions
    printf("%s%-10s%s ", COLOR_PERMS, $3, COLOR_RESET)

    # Print hard links numbers
    printf("%3s ", $4)

    # Print owners name
    printf("%s:", $5)
    # Print groups name
    printf("%s ", $6)

    # Print sizes
    printf("%s%4s%s ", COLOR_SIZE, $2, COLOR_RESET)

    # Print days
    printf("%s ", $8)
    # Print months
    printf("%s ", $9)
    # Print hours
    printf("%s ", $10)

    # Print files
    if ($3 ~ /^d/ && $3 ~ /rwxrwxrwx/) {
        # Directories with 777 perm
        printf("%s%-10s%s ", COLOR_DIR_ALL_PERM, $1, COLOR_RESET)
    } else if ($3 ~ /^d/) {
        # Directories
        printf("%s%-10s%s ", COLOR_DIR, $1, COLOR_RESET)
    } else if ($3 ~ /-rwxrwxrwx/) {
        # Executable files with 777 perm
        printf("%s%-10s%s ", COLOR_FILENAME_ALL_PERM, $1, COLOR_RESET)
    } else if ($3 ~ /x/) {
        # Executable files
        printf("%s%-10s%s ", COLOR_FILENAME_EXEC, $1, COLOR_RESET)
    } else {
        # Regular files
        printf("%s ", $1)
    }
    print ""
}'"'"' | column -t -s ""'
